<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Book [[${vehicleType}]]</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>

<header>
    <div class="container">
        <h1>Vehicle Rental Service</h1>
        <nav>
            <ul>
                <li><a th:href="@{/}">Home</a></li>
                <li><a th:href="@{/browse}">Browse Vehicles</a></li>
                <li><a th:href="@{/booking}">My Bookings</a></li>
            </ul>
        </nav>
    </div>
</header>

<div class="container">
    <div class="main-content">
        <!-- Wrap the form in the centering container form-card -->
        <div class="form-card">
            <h2>Order Placement</h2>

            <!-- Form for RentalRequestDTO, including nested UserDTO -->
            <form th:action="@{/confirm-booking}" th:object="${rentalRequest}" method="post">

                <!-- 1. Rental Details -->
                <h3>1. Rental Details</h3>
                <div class="form-group">
                    <label for="vehicleType">Vehicle Type:</label>
                    <input type="text" id="vehicleType" th:field="*{vehicleType}" class="form-control" readonly="readonly">
                </div>

                <div class="form-group">
                    <label for="durationMinutes">Rental Duration (minutes):</label>
                    <input type="number" id="durationMinutes" th:field="*{durationMinutes}" class="form-control" placeholder="e.g., 60" min="15" required>
                </div>

                <!-- 2. Extra Options (Decorator) -->
                <h3>2. Extra Options</h3>

                <div class="checkbox-group">
                    <input type="checkbox" id="addGps" th:field="*{addGps}">
                    <label for="addGps">Add GPS Navigation (+$5.00)</label>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="addInsurance" th:field="*{addInsurance}">
                    <label for="addInsurance">Add Full Insurance (+$8.50)</label>
                </div>

                <!-- 3. Your Contact Details (User Details) -->
                <h3>3. Your Contact Details</h3>
                <div class="form-group">
                    <label for="userName">Your Name:</label>
                    <input type="text" id="userName" th:field="*{user.name}" class="form-control" placeholder="Yerassyl Kuanyshov" required>
                </div>

                <div class="form-group">
                    <label for="userEmail">Your Email:</label>
                    <input type="email" id="userEmail" th:field="*{user.email}" class="form-control" placeholder="yerassyl.kuanyshov@example.com" required>
                </div>

                <div class="form-group">
                    <label for="userPhone">Phone Number:</label>
                    <input type="tel" id="userPhone" th:field="*{user.phoneNumber}" class="form-control" placeholder="+7 777 512 2141" required>
                </div>

                <!-- 4. Payment -->
                <h3>4. Payment</h3>
                <div class="form-group">
                    <label for="paymentToken">Payment Method:</label>
                    <select id="paymentToken" th:field="*{paymentToken}" class="form-control" required>
                        <option value="">Выберите метод</option>
                        <option value="Stripe">Stripe</option>
                        <option value="PayPal">PayPal</option>
                    </select>
                </div>

                <div class="text-center" style="margin-top: 30px;">
                    <button type="submit" class="btn">Confirm Booking</button>
                </div>

            </form>
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <p>&copy; 2025 Vehicle Rental. All rights reserved.</p>
    </div>
</footer>

</body>
</html>